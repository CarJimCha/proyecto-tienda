{% extends 'base.html.twig' %}

{% block title %}Tienda de rol{% endblock %}

{% block body %}

    <h1>Gestor de Inventario de Rol</h1>

    <h2>¡Bienvenido!</h2>

    <p>Explora los artículos disponibles.</p>

    {% if app.user %}
        {# Usuario logueado #}
        <a href="{{ path('app_logout') }}" class="btn btn-danger">Cerrar Sesión</a>
        <br><br>

        {% if is_granted('ROLE_USER') and not is_granted('ROLE_ADMIN') %}
            <a href="{{ path('app_inventario') }}" class="btn btn-primary">Inventario</a>
            <br><br>
            <a href="{{ path('app_compra') }}" class="btn btn-primary">Compra de Items</a>
            <br><br>
        {% endif %}

        {% if is_granted('ROLE_ADMIN') %}
            <a href="{{ path('app_import_items') }}" class="btn btn-primary">Importar Ítems desde CSV</a>
            <br><br>
            <a href="{{ path('app_item_index') }}" class="btn btn-primary">CRUD de Items</a>
            <br><br>
            <a href="{{ path('app_categoria_index') }}" class="btn btn-primary">CRUD de Categoria</a>
            <br><br>
            <a href="{{ path('app_calidad_index') }}" class="btn btn-primary">CRUD de Calidad</a>
            <br><br>
            <a href="{{ path('app_user_index') }}" class="btn btn-primary">CRUD de Usuarios</a>
            <br><br>
        {% endif %}

    {% else %}
        {# Usuario NO logueado #}
        <a href="{{ path('app_login') }}" class="btn btn-primary">Iniciar Sesión</a>
        <br><br>
        <a href="{{ path('app_register') }}" class="btn btn-primary">Registrarse</a>
        <br><br>
    {% endif %}

{% endblock %}
